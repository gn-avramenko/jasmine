{"version":3,"sources":["index.js"],"names":["Header","Layout","Footer","Sider","Content","SubMenu","Menu","TabPane","Tabs","Search","Input","Option","Select","Panel","Collapse","TreeNode","Tree","callbackRegistry","Map","callbackIndex","JasmineReactComponentProxy","props","state","version","forceRedraw","bind","newVersion","this","setState","prevProps","callbacks","get","componentDidUpdate","componentDidMount","componentWillUnmount","delete","renderCallback","React","Component","window","ReactFacade","render","ReactDOM","createElementWrapper","elm","compRef","createRef","ref","element","createElement","createElementWithChildren","children","createElementWrapperWithChildren","LayoutHeader","LayoutFooter","LayoutSider","LayoutContent","Spin","MenuItem","Item","Dropdown","Button","Fragment","Table","DebounceSelect","fetchOptions","debounceTimeout","useState","fetching","setFetching","initialized","setInitialized","options","setOptions","fetchRef","useRef","debounceFetcher","useMemo","debounce","value","current","fetchId","newOptions","labelInValue","onSearch","onDropdownVisibleChange","open","notFoundContent","size","SelectOption","Tooltip","IconLinkOutlined","LinkOutlined","DatePicker","IconEyeInvisibleOutlined","EyeInvisibleOutlined","IconEyeTwoTone","EyeTwoTone","PasswordBox","Password","InputNumber","notification","Modal","Switch","ReactQuill","createProxyAdvanced","otherCallbacks","allCallbacks","index","set","createProxy","dateToMoment","date","moment","momentToDate","Date","year","month","momentToDateTime","hour","minute","second"],"mappings":"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","file":"static/js/antd-main.chunk.js","sourcesContent":["import 'antd/dist/antd.compact.less'\n//import \"@ant-design/aliyun-theme/index.less\"\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Spin , Layout,Input,Menu,Tabs, Dropdown,Button,Table,Select,Tooltip,DatePicker,InputNumber,notification,Modal,Switch,Collapse,Tree} from 'antd';\nimport debounce from \"lodash/debounce\";\nimport {LinkOutlined,EyeInvisibleOutlined, EyeTwoTone} from '@ant-design/icons';\nimport moment from 'moment';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nconst { Header, Footer, Sider, Content } = Layout;\nconst { SubMenu } = Menu;\nconst { TabPane } = Tabs;\nconst { Search } = Input;\nconst { Option } = Select;\nconst {Panel} = Collapse;\nconst { TreeNode } = Tree;\n\n\nlet callbackRegistry = new Map()\nlet callbackIndex = 0\n\nclass JasmineReactComponentProxy extends React.Component{\n\n    constructor(props){\n       super(props)\n       this.state = {\n           version: 0\n       }\n       this.forceRedraw = this.forceRedraw.bind(this)\n    }\n\n    forceRedraw(){\n        let newVersion = this.state.version+1\n        this.setState({\n            version: newVersion\n        })\n    }\n\n    componentDidUpdate(prevProps) {\n      let callbacks = callbackRegistry.get(this.props.callbackIndex)\n      if(callbacks.componentDidUpdate){\n          callbacks.componentDidUpdate(prevProps)\n      }\n    }\n\n    componentDidMount(){\n        let callbacks = callbackRegistry.get(this.props.callbackIndex)\n        if(callbacks.componentDidMount){\n            callbacks.componentDidMount(this)\n        }\n    }\n\n    componentWillUnmount(){\n        let callbacks = callbackRegistry.get(this.props.callbackIndex)\n        if(callbacks.componentWillUnmount){\n            callbacks.componentWillUnmount(this)\n        }\n        callbackRegistry.delete(this.props.callbackIndex)\n        this.forceRedraw  = null\n    }\n\n    render() {\n        return callbackRegistry.get(this.props.callbackIndex).renderCallback(this.props.callbackIndex)\n    }\n    \n}\n\nfunction DebounceSelect({ fetchOptions, debounceTimeout = 800, ...props }) {\n  const [fetching, setFetching] = React.useState(false);\n  const [initialized, setInitialized] = React.useState(false);\n  const [options, setOptions] = React.useState([]);\n  const fetchRef = React.useRef(0);\n  const debounceFetcher = React.useMemo(() => {\n    const loadOptions = (value) => {\n      fetchRef.current += 1;\n      const fetchId = fetchRef.current;\n      setOptions([]);\n      setFetching(true);\n      fetchOptions(value, (newOptions) => {\n        if (fetchId !== fetchRef.current) {\n          // for fetch callback order\n          return;\n        }\n\n        setOptions(newOptions);\n        setFetching(false);\n        setInitialized(true);\n      });\n    };\n\n    return debounce(loadOptions, debounceTimeout);\n  }, [fetchOptions, debounceTimeout]);\n  const handleOnDropdownVisibleChange = (open) => {\n    if (!open) {\n      setInitialized(false);\n      return;\n    }\n    if (fetching || initialized) {\n      return;\n    }\n    fetchRef.current += 1;\n    const fetchId = fetchRef.current;\n    setOptions([]);\n    setFetching(true);\n    fetchOptions(\"\", (newOptions) => {\n      if (fetchId !== fetchRef.current) {\n        // for fetch callback order\n        return;\n      }\n\n      setOptions(newOptions);\n      setFetching(false);\n      setInitialized(true);\n    });\n  };\n  return (\n    <Select\n      labelInValue\n      onSearch={debounceFetcher}\n      onDropdownVisibleChange={handleOnDropdownVisibleChange}\n      notFoundContent={fetching ? <Spin size=\"small\" /> : null}\n      {...props}\n      options={options}\n    />\n  );\n} \n\n window.ReactFacade ={\n     render:ReactDOM.render,\n     createElementWrapper: function(elm, props){\n       let compRef = React.createRef()\n       props.ref = compRef\n       return {\n          element: React.createElement(elm, props),\n          ref: compRef\n       }\n     },\n      createElement: function(elm, props){\n        return React.createElement(elm, props)\n        },\n          createElementWithChildren: function(elm, props, children){\n                return React.createElement(elm, props, children)\n                },\n     createElementWrapperWithChildren: function(elm, props, children){\n            let compRef = React.createRef()\n            props.ref = compRef\n            return {\n               element: React.createElement(elm, props,children),\n               ref: compRef\n            }\n     },\n     callbackRegistry:callbackRegistry,\n     Layout: Layout,\n     LayoutHeader:Header,\n     LayoutFooter: Footer,\n     LayoutSider:Sider,\n     LayoutContent:Content,\n     Spin:Spin,\n     Input:Input,\n     Menu:Menu,\n     SubMenu:SubMenu,\n     MenuItem:Menu.Item,\n     Tabs:Tabs,\n     TabPane:TabPane,\n     Dropdown:Dropdown,\n     Button:Button,\n     Fragment:React.Fragment,\n     Search:Search,\n     Table:Table,\n     DebounceSelect:DebounceSelect,\n     Select:Select,\n     SelectOption:Option,\n     Tooltip:Tooltip,\n     IconLinkOutlined:LinkOutlined,\n     DatePicker:DatePicker,\n     IconEyeInvisibleOutlined: EyeInvisibleOutlined, \n     IconEyeTwoTone:EyeTwoTone,\n     PasswordBox:Input.Password,\n     InputNumber:InputNumber,\n     notification:notification,\n     Modal:Modal,\n     Switch:Switch,\n     Collapse:Collapse,\n     Panel:Panel,\n     ReactQuill:ReactQuill,\n     Tree:Tree,\n     TreeNode: TreeNode,\n     createProxyAdvanced:function(renderCallback, otherCallbacks){\n         let allCallbacks = otherCallbacks || {}\n         allCallbacks.renderCallback = renderCallback\n         let index = callbackIndex++\n         callbackRegistry.set(index, allCallbacks)\n         let compRef = React.createRef()\n         let props ={\n            ref: compRef,\n            callbackIndex: index\n         }\n         let elm = React.createElement(JasmineReactComponentProxy,props)\n         return {element: elm,ref: compRef}\n     },\n     createProxy:function(renderCallback){\n        return this.createProxyAdvanced(renderCallback, null)        \n    },\n    dateToMoment:function(date){\n        return date? moment(date): null\n    }, \n    momentToDate:function(moment){\n        if(!moment){\n            return null\n        }\n        return new Date(moment.year(), moment.month(), moment.date())\n    },\n    momentToDateTime:function(moment){\n        if(!moment){\n            return null\n        }\n        return new Date(moment.year(), moment.month(), moment.date(), moment.hour(), moment.minute(), moment.second())\n    }\n }\n\n"],"sourceRoot":""}