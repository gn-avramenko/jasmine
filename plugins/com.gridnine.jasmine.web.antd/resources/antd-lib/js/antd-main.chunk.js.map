{"version":3,"sources":["index.js"],"names":["Header","Layout","Footer","Sider","Content","SubMenu","Menu","TabPane","Tabs","Search","Input","Option","Select","Panel","Collapse","TreeNode","Tree","callbackRegistry","Map","callbackIndex","JasmineReactComponentProxy","props","state","version","forceRedraw","bind","getCallbacks","newVersion","this","setState","parentIndex","get","prevProps","callbacks","componentDidUpdate","componentDidMount","componentWillUnmount","delete","renderCallback","React","Component","window","ReactFacade","incrementAndGetCallbackIndex","childIndex","render","ReactDOM","createElementWrapper","elm","compRef","createRef","ref","element","createElement","createElementWithChildren","children","createElementWrapperWithChildren","LayoutHeader","LayoutFooter","LayoutSider","LayoutContent","Spin","MenuItem","Item","Dropdown","Button","Fragment","Table","DebounceSelect","fetchOptions","debounceTimeout","useState","fetching","setFetching","initialized","setInitialized","options","setOptions","fetchRef","useRef","debounceFetcher","useMemo","debounce","value","current","fetchId","newOptions","labelInValue","onSearch","onDropdownVisibleChange","open","notFoundContent","size","SelectOption","Tooltip","IconLinkOutlined","LinkOutlined","DatePicker","IconEyeInvisibleOutlined","EyeInvisibleOutlined","IconEyeTwoTone","EyeTwoTone","PasswordBox","Password","InputNumber","notification","Modal","Switch","ReactQuill","IconCloseOutlined","CloseOutlined","IconPlusOutlined","PlusOutlined","IconUpOutlined","UpOutlined","IconDownOutlined","DownOutlined","IconMinusOutlined","MinusOutlined","createProxyAdvanced","otherCallbacks","allCallbacks","map","set","index","createProxy","dateToMoment","date","moment","momentToDate","Date","year","month","momentToDateTime","hour","minute","second"],"mappings":"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","file":"static/js/antd-main.chunk.js","sourcesContent":["import 'antd/dist/antd.compact.less'\n//import \"@ant-design/aliyun-theme/index.less\"\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Spin , Layout,Input,Menu,Tabs, Dropdown,Button,Table,Select,Tooltip,DatePicker,InputNumber,notification,Modal,Switch,Collapse,Tree} from 'antd';\nimport debounce from \"lodash/debounce\";\nimport {LinkOutlined,EyeInvisibleOutlined, EyeTwoTone, CloseOutlined,PlusOutlined,UpOutlined,DownOutlined,MinusOutlined} from '@ant-design/icons';\nimport moment from 'moment';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nconst { Header, Footer, Sider, Content } = Layout;\nconst { SubMenu } = Menu;\nconst { TabPane } = Tabs;\nconst { Search } = Input;\nconst { Option } = Select;\nconst {Panel} = Collapse;\nconst { TreeNode } = Tree;\n\n\nlet callbackRegistry = new Map()\nlet callbackIndex = 0\n\nclass JasmineReactComponentProxy extends React.Component{\n\n    constructor(props){\n       super(props)\n       this.state = {\n           version: 0\n       }\n       this.forceRedraw = this.forceRedraw.bind(this)\n       this.getCallbacks = this.getCallbacks.bind(this)\n    }\n\n    forceRedraw(){\n        let newVersion = this.state.version+1\n        this.setState({\n            version: newVersion\n        })\n    }\n\n    getCallbacks(){\n      if(this.props.parentIndex != null){\n         return callbackRegistry.get(this.props.parentIndex).get(this.props.callbackIndex) \n      }\n      return callbackRegistry.get(this.props.callbackIndex)\n    }\n\n    componentDidUpdate(prevProps) {\n      let callbacks = this.getCallbacks()\n      if(callbacks.componentDidUpdate){\n          callbacks.componentDidUpdate(prevProps)\n      }\n    }\n\n    componentDidMount(){\n        let callbacks = this.getCallbacks()\n        if(callbacks.componentDidMount){\n            callbacks.componentDidMount(this)\n        }\n    }\n\n    componentWillUnmount(){\n        let callbacks = this.getCallbacks()\n        if(callbacks.componentWillUnmount){\n            callbacks.componentWillUnmount(this)\n        }\n        if(this.props.parentIndex != null){\n          return\n        }\n        callbackRegistry.delete(this.props.callbackIndex)\n        this.forceRedraw  = null\n    }\n\n    render() {\n      return this.getCallbacks().renderCallback(this.props.parentIndex, this.props.callbackIndex)\n    }\n}\n\nfunction DebounceSelect({ fetchOptions, debounceTimeout = 800, ...props }) {\n  const [fetching, setFetching] = React.useState(false);\n  const [initialized, setInitialized] = React.useState(false);\n  const [options, setOptions] = React.useState([]);\n  const fetchRef = React.useRef(0);\n  const debounceFetcher = React.useMemo(() => {\n    const loadOptions = (value) => {\n      fetchRef.current += 1;\n      const fetchId = fetchRef.current;\n      setOptions([]);\n      setFetching(true);\n      fetchOptions(value, (newOptions) => {\n        if (fetchId !== fetchRef.current) {\n          // for fetch callback order\n          return;\n        }\n\n        setOptions(newOptions);\n        setFetching(false);\n        setInitialized(true);\n      });\n    };\n\n    return debounce(loadOptions, debounceTimeout);\n  }, [fetchOptions, debounceTimeout]);\n  const handleOnDropdownVisibleChange = (open) => {\n    if (!open) {\n      setInitialized(false);\n      return;\n    }\n    if (fetching || initialized) {\n      return;\n    }\n    fetchRef.current += 1;\n    const fetchId = fetchRef.current;\n    setOptions([]);\n    setFetching(true);\n    fetchOptions(\"\", (newOptions) => {\n      if (fetchId !== fetchRef.current) {\n        // for fetch callback order\n        return;\n      }\n\n      setOptions(newOptions);\n      setFetching(false);\n      setInitialized(true);\n    });\n  };\n  return (\n    <Select\n      labelInValue\n      onSearch={debounceFetcher}\n      onDropdownVisibleChange={handleOnDropdownVisibleChange}\n      notFoundContent={fetching ? <Spin size=\"small\" /> : null}\n      {...props}\n      options={options}\n    />\n  );\n} \n\n window.ReactFacade ={\n     incrementAndGetCallbackIndex: function(){\n       callbackIndex++;\n       return callbackIndex\n     },\n     getCallbacks: function(parentIndex, childIndex){\n      if(parentIndex != null){\n        return callbackRegistry.get(parentIndex).get(childIndex) \n     }\n     return callbackRegistry.get(childIndex)\n    },\n     render:ReactDOM.render,\n     createElementWrapper: function(elm, props){\n       let compRef = React.createRef()\n       props.ref = compRef\n       return {\n          element: React.createElement(elm, props),\n          ref: compRef\n       }\n     },\n      createElement: function(elm, props){\n        return React.createElement(elm, props)\n        },\n          createElementWithChildren: function(elm, props, children){\n                return React.createElement(elm, props, children)\n                },\n     createElementWrapperWithChildren: function(elm, props, children){\n            let compRef = React.createRef()\n            props.ref = compRef\n            return {\n               element: React.createElement(elm, props,children),\n               ref: compRef\n            }\n     },\n     callbackRegistry:callbackRegistry,\n     Layout: Layout,\n     LayoutHeader:Header,\n     LayoutFooter: Footer,\n     LayoutSider:Sider,\n     LayoutContent:Content,\n     Spin:Spin,\n     Input:Input,\n     Menu:Menu,\n     SubMenu:SubMenu,\n     MenuItem:Menu.Item,\n     Tabs:Tabs,\n     TabPane:TabPane,\n     Dropdown:Dropdown,\n     Button:Button,\n     Fragment:React.Fragment,\n     Search:Search,\n     Table:Table,\n     DebounceSelect:DebounceSelect,\n     Select:Select,\n     SelectOption:Option,\n     Tooltip:Tooltip,\n     IconLinkOutlined:LinkOutlined,\n     DatePicker:DatePicker,\n     IconEyeInvisibleOutlined: EyeInvisibleOutlined, \n     IconEyeTwoTone:EyeTwoTone,\n     PasswordBox:Input.Password,\n     InputNumber:InputNumber,\n     notification:notification,\n     Modal:Modal,\n     Switch:Switch,\n     Collapse:Collapse,\n     Panel:Panel,\n     ReactQuill:ReactQuill,\n     Tree:Tree,\n     TreeNode: TreeNode,\n     IconCloseOutlined:CloseOutlined,\n     IconPlusOutlined:PlusOutlined,\n     IconUpOutlined:UpOutlined,\n     IconDownOutlined:DownOutlined,\n     IconMinusOutlined:MinusOutlined,\n     createProxyAdvanced:function(parentIndex, renderCallback, otherCallbacks){\n         let allCallbacks = otherCallbacks || {}\n         allCallbacks.renderCallback = renderCallback;\n         let map = null;\n         if(parentIndex != null){\n           map = callbackRegistry.get(parentIndex);\n           if(map == null){\n              map =  new Map();\n              callbackRegistry.set(parentIndex, map);\n           }\n         } else {\n           map = callbackRegistry;\n         }\n         callbackIndex++;\n         let index = callbackIndex\n         map.set(index, allCallbacks)\n         let compRef = React.createRef()\n         let props ={\n            ref: compRef,\n            callbackIndex: index,\n            parentIndex: parentIndex,\n         }\n         let elm = React.createElement(JasmineReactComponentProxy,props)\n         return {element: elm,ref: compRef}\n     },\n     createProxy:function(parentIndex, renderCallback){\n        return this.createProxyAdvanced(parentIndex, renderCallback, null)        \n    },\n    dateToMoment:function(date){\n        return date? moment(date): null\n    }, \n    momentToDate:function(moment){\n        if(!moment){\n            return null\n        }\n        return new Date(moment.year(), moment.month(), moment.date())\n    },\n    momentToDateTime:function(moment){\n        if(!moment){\n            return null\n        }\n        return new Date(moment.year(), moment.month(), moment.date(), moment.hour(), moment.minute(), moment.second())\n    }\n }\n\n"],"sourceRoot":""}