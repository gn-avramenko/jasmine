{"version":3,"sources":["index.js"],"names":["Header","Layout","Footer","Sider","Content","SubMenu","Menu","TabPane","Tabs","Search","Input","callbackRegistry","Map","callbackIndex","JasmineReactComponentProxy","props","state","version","forceRedraw","bind","newVersion","this","setState","callbacks","get","componentDidMount","componentWillUnmount","delete","renderCallback","React","Component","window","ReactFacade","render","ReactDOM","createElementWrapper","elm","compRef","createRef","ref","element","createElement","createElementWithChildren","children","createElementWrapperWithChildren","LayoutHeader","LayoutFooter","LayoutSider","LayoutContent","Spin","MenuItem","Item","Dropdown","Button","Fragment","Table","createProxyAdvanced","otherCallbacks","allCallbacks","index","set","createProxy"],"mappings":"gRAKQA,EAAmCC,IAAnCD,OAAQE,EAA2BD,IAA3BC,OAAQC,EAAmBF,IAAnBE,MAAOC,EAAYH,IAAZG,QACvBC,EAAYC,IAAZD,QACAE,EAAYC,IAAZD,QACAE,EAAWC,IAAXD,OAEJE,EAAmB,IAAIC,IACvBC,EAAgB,EAEdC,E,kDAEF,WAAYC,GAAO,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACTC,QAAS,GAEb,EAAKC,YAAc,EAAKA,YAAYC,KAAjB,gBALJ,E,+CAQlB,WACI,IAAIC,EAAaC,KAAKL,MAAMC,QAAQ,EACpCI,KAAKC,SAAS,CACVL,QAASG,M,+BAIjB,WACI,IAAIG,EAAYZ,EAAiBa,IAAIH,KAAKN,MAAMF,eAC7CU,EAAUE,mBACTF,EAAUE,kBAAkBJ,Q,kCAIpC,WACI,IAAIE,EAAYZ,EAAiBa,IAAIH,KAAKN,MAAMF,eAC7CU,EAAUG,sBACTH,EAAUG,qBAAqBL,MAEnCV,EAAiBgB,OAAON,KAAKN,MAAMF,eACnCQ,KAAKH,YAAe,O,oBAGxB,WACI,OAAOP,EAAiBa,IAAIH,KAAKN,MAAMF,eAAee,qB,GAlCrBC,IAAMC,WAuC9CC,OAAOC,YAAa,CAChBC,OAAOC,IAASD,OAChBE,qBAAsB,SAASC,EAAKrB,GAClC,IAAIsB,EAAUR,IAAMS,YAEpB,OADAvB,EAAMwB,IAAMF,EACL,CACJG,QAASX,IAAMY,cAAcL,EAAKrB,GAClCwB,IAAKF,IAGTI,cAAe,SAASL,EAAKrB,GAC3B,OAAOc,IAAMY,cAAcL,EAAKrB,IAE9B2B,0BAA2B,SAASN,EAAKrB,EAAO4B,GAC1C,OAAOd,IAAMY,cAAcL,EAAKrB,EAAO4B,IAElDC,iCAAkC,SAASR,EAAKrB,EAAO4B,GAChD,IAAIN,EAAUR,IAAMS,YAEpB,OADAvB,EAAMwB,IAAMF,EACL,CACJG,QAASX,IAAMY,cAAcL,EAAKrB,EAAM4B,GACxCJ,IAAKF,IAGfpC,OAAQA,IACR4C,aAAa7C,EACb8C,aAAc5C,EACd6C,YAAY5C,EACZ6C,cAAc5C,EACd6C,KAAKA,IACLvC,MAAMA,IACNJ,KAAKA,IACLD,QAAQA,EACR6C,SAAS5C,IAAK6C,KACd3C,KAAKA,IACLD,QAAQA,EACR6C,SAASA,IACTC,OAAOA,IACPC,SAASzB,IAAMyB,SACf7C,OAAOA,EACP8C,MAAMA,IACNC,oBAAoB,SAAS5B,EAAgB6B,GACzC,IAAIC,EAAeD,GAAkB,GACrCC,EAAa9B,eAAiBA,EAC9B,IAAI+B,EAAQ9C,IACZF,EAAiBiD,IAAID,EAAOD,GAC5B,IAAIrB,EAAUR,IAAMS,YAChBvB,EAAO,CACRwB,IAAKF,EACLxB,cAAe8C,GAGlB,MAAO,CAACnB,QADEX,IAAMY,cAAc3B,EAA2BC,GACpCwB,IAAKF,IAE9BwB,YAAY,SAASjC,GAClB,OAAOP,KAAKmC,oBAAoB5B,EAAgB,U","file":"static/js/antd-main.chunk.js","sourcesContent":["import 'antd/dist/antd.compact.less'\n//import \"@ant-design/aliyun-theme/index.less\"\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Spin , Layout,Input,Menu,Tabs, Dropdown,Button,Table} from 'antd';\nconst { Header, Footer, Sider, Content } = Layout;\nconst { SubMenu } = Menu;\nconst { TabPane } = Tabs;\nconst { Search } = Input;\n\nlet callbackRegistry = new Map()\nlet callbackIndex = 0\n\nclass JasmineReactComponentProxy extends React.Component{\n\n    constructor(props){\n       super(props)\n       this.state = {\n           version: 0\n       }\n       this.forceRedraw = this.forceRedraw.bind(this)\n    }\n\n    forceRedraw(){\n        let newVersion = this.state.version+1\n        this.setState({\n            version: newVersion\n        })\n    }\n\n    componentDidMount(){\n        let callbacks = callbackRegistry.get(this.props.callbackIndex)\n        if(callbacks.componentDidMount){\n            callbacks.componentDidMount(this)\n        }\n    }\n\n    componentWillUnmount(){\n        let callbacks = callbackRegistry.get(this.props.callbackIndex)\n        if(callbacks.componentWillUnmount){\n            callbacks.componentWillUnmount(this)\n        }\n        callbackRegistry.delete(this.props.callbackIndex)\n        this.forceRedraw  = null\n    }\n\n    render() {\n        return callbackRegistry.get(this.props.callbackIndex).renderCallback()\n    }\n    \n}\n\n window.ReactFacade ={\n     render:ReactDOM.render,\n     createElementWrapper: function(elm, props){\n       let compRef = React.createRef()\n       props.ref = compRef\n       return {\n          element: React.createElement(elm, props),\n          ref: compRef\n       }\n     },\n      createElement: function(elm, props){\n        return React.createElement(elm, props)\n        },\n          createElementWithChildren: function(elm, props, children){\n                return React.createElement(elm, props, children)\n                },\n     createElementWrapperWithChildren: function(elm, props, children){\n            let compRef = React.createRef()\n            props.ref = compRef\n            return {\n               element: React.createElement(elm, props,children),\n               ref: compRef\n            }\n     },\n     Layout: Layout,\n     LayoutHeader:Header,\n     LayoutFooter: Footer,\n     LayoutSider:Sider,\n     LayoutContent:Content,\n     Spin:Spin,\n     Input:Input,\n     Menu:Menu,\n     SubMenu:SubMenu,\n     MenuItem:Menu.Item,\n     Tabs:Tabs,\n     TabPane:TabPane,\n     Dropdown:Dropdown,\n     Button:Button,\n     Fragment:React.Fragment,\n     Search:Search,\n     Table:Table,\n     createProxyAdvanced:function(renderCallback, otherCallbacks){\n         let allCallbacks = otherCallbacks || {}\n         allCallbacks.renderCallback = renderCallback\n         let index = callbackIndex++\n         callbackRegistry.set(index, allCallbacks)\n         let compRef = React.createRef()\n         let props ={\n            ref: compRef,\n            callbackIndex: index\n         }\n         let elm = React.createElement(JasmineReactComponentProxy,props)\n         return {element: elm,ref: compRef}\n     },\n     createProxy:function(renderCallback){\n        return this.createProxyAdvanced(renderCallback, null)        \n    }\n }\n\n//let compRef = React.createRef()\n//let elm = React.createElement(Input,{\n//    ref: compRef\n//})\n//ReactDOM.render(elm, document.getElementById(\"root\"))\n//compRef.current.setState({\n//    value : \"test2\"\n//})\n\n// class JasmineReactComponentProxy extends React.Component{\n\n//     constructor(props){\n//        super(props)\n//        this.nestedComponentRef = React.createRef()\n//        props.componentSetter(this)\n//        props.nestedComponentSetter(this.nestedComponentRef)\n//        this.renderCallback = props.renderCallback\n//        this.state = {\n//            jasmineVersion: 0\n//        }\n//        this.jasmineRedraw = this.jasmineRedraw.bind(this)\n//     }\n\n//     render() {\n//         // return this.renderCallback()\n//         return React.createElement(Input, {\n//             value: \"test\",\n//             ref: this.nestedComponentRef\n//         })\n//     }\n\n//     jasmineRedraw(){\n//         // let currentVersion = this.state.jasmineVersion\n//         // this.setState({\n//         //     jasmineVersion : currentVersion+1\n//         //     }\n//         // )\n//         this.nestedComponentRef.current.setState({\n//             value : \"test2\"\n//         })\n\n//     }\n\n// }\n\n\n\n// //ReactDOM.render(\n// // <Layout>\n// //     <Header>Header</Header>\n// //     <Content>Content</Content>\n// //     <Footer>Footer</Footer>\n// //   </Layout>\n// //   ,\n// //   document.getElementById('root')\n// //   )\n\n// // let elm = React.createElement(Input, {\n// //     value: \"test\"\n// // })\n// let textValue = \"test\"\n// let component = undefined\n// let inputRef = undefined\n// let props = {\n//     componentSetter: function(value){\n//        component = value     \n//     },\n//     nestedComponentSetter: function(value){\n//         inputRef = value     \n//      },\n//     renderCallback:function(){\n//         return React.createElement(Input, {\n//                 value: textValue,\n//                 ref: inputRef\n//             })\n//     }\n// }\n// let elm = React.createElement(JasmineReactComponentProxy, props)\n// ReactDOM.render(elm, document.getElementById('root'))\n// console.log(elm)\n// setTimeout(function(){\n//  textValue = \"test2\"\n//  component.jasmineRedraw()\n// }, 2000)\n// // console.log(inputRef)\n// // setTimeout(function(){\n// //     inputRef.current.setState({\n// //         value: \"test2\"\n// //     })\n    \n// //    }, 2000)\n// //    setTimeout(function(){\n// //     console.log(inputRef)   \n// //    }, 2000)\n\n"],"sourceRoot":""}