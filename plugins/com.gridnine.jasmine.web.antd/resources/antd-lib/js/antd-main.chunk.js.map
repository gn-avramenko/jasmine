{"version":3,"sources":["index.js"],"names":["Header","Layout","Footer","Sider","Content","SubMenu","Menu","TabPane","Tabs","Search","Input","Option","Select","Panel","Collapse","TreeNode","Tree","callbackRegistry","Map","callbackIndex","JasmineReactComponentProxy","props","state","version","forceRedraw","bind","newVersion","this","setState","prevProps","callbacks","get","console","warn","componentDidUpdate","componentDidMount","componentWillUnmount","delete","React","createElement","Fragment","renderCallback","Component","window","ReactFacade","render","ReactDOM","createElementWrapper","elm","compRef","createRef","ref","element","createElementWithChildren","children","createElementWrapperWithChildren","LayoutHeader","LayoutFooter","LayoutSider","LayoutContent","Spin","MenuItem","Item","Dropdown","Button","Table","DebounceSelect","fetchOptions","debounceTimeout","useState","fetching","setFetching","initialized","setInitialized","options","setOptions","fetchRef","useRef","debounceFetcher","useMemo","debounce","value","current","fetchId","newOptions","labelInValue","onSearch","onDropdownVisibleChange","open","notFoundContent","size","SelectOption","Tooltip","IconLinkOutlined","LinkOutlined","DatePicker","IconEyeInvisibleOutlined","EyeInvisibleOutlined","IconEyeTwoTone","EyeTwoTone","PasswordBox","Password","InputNumber","notification","Modal","Switch","ReactQuill","IconCloseOutlined","CloseOutlined","IconPlusOutlined","PlusOutlined","IconUpOutlined","UpOutlined","IconDownOutlined","DownOutlined","IconMinusOutlined","MinusOutlined","createProxyAdvanced","otherCallbacks","allCallbacks","index","set","createProxy","dateToMoment","date","moment","momentToDate","Date","year","month","momentToDateTime","hour","minute","second"],"mappings":"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","file":"static/js/antd-main.chunk.js","sourcesContent":["import 'antd/dist/antd.compact.less'\n//import \"@ant-design/aliyun-theme/index.less\"\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Spin , Layout,Input,Menu,Tabs, Dropdown,Button,Table,Select,Tooltip,DatePicker,InputNumber,notification,Modal,Switch,Collapse,Tree} from 'antd';\nimport debounce from \"lodash/debounce\";\nimport {LinkOutlined,EyeInvisibleOutlined, EyeTwoTone, CloseOutlined,PlusOutlined,UpOutlined,DownOutlined,MinusOutlined} from '@ant-design/icons';\nimport moment from 'moment';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nconst { Header, Footer, Sider, Content } = Layout;\nconst { SubMenu } = Menu;\nconst { TabPane } = Tabs;\nconst { Search } = Input;\nconst { Option } = Select;\nconst {Panel} = Collapse;\nconst { TreeNode } = Tree;\n\n\nlet callbackRegistry = new Map()\nlet callbackIndex = 0\n\nclass JasmineReactComponentProxy extends React.Component{\n\n    constructor(props){\n       super(props)\n       this.state = {\n           version: 0\n       }\n       this.forceRedraw = this.forceRedraw.bind(this)\n    }\n\n    forceRedraw(){\n        let newVersion = this.state.version+1\n        this.setState({\n            version: newVersion\n        })\n    }\n\n    componentDidUpdate(prevProps) {\n      let callbacks = callbackRegistry.get(this.props.callbackIndex)\n      if(callbacks == null){\n        console.warn(\"component is detached\")\n      }\n      if(callbacks&& callbacks.componentDidUpdate){\n          callbacks.componentDidUpdate(prevProps)\n      }\n    }\n\n    componentDidMount(){\n        let callbacks = callbackRegistry.get(this.props.callbackIndex)\n        if(callbacks&& callbacks.componentDidMount){\n            callbacks.componentDidMount(this)\n        }\n    }\n\n    componentWillUnmount(){\n        let callbacks = callbackRegistry.get(this.props.callbackIndex)\n        if(callbacks&& callbacks.componentWillUnmount){\n            callbacks.componentWillUnmount(this)\n        }\n        callbackRegistry.delete(this.props.callbackIndex)\n        this.forceRedraw  = null\n    }\n\n    render() {\n      let callbacks = callbackRegistry.get(this.props.callbackIndex)\n      if(callbacks == null){\n        return React.createElement(React.Fragment, {})\n      } else {\n        return callbacks.renderCallback(this.props.callbackIndex)\n      }\n    }\n}\n\nfunction DebounceSelect({ fetchOptions, debounceTimeout = 800, ...props }) {\n  const [fetching, setFetching] = React.useState(false);\n  const [initialized, setInitialized] = React.useState(false);\n  const [options, setOptions] = React.useState([]);\n  const fetchRef = React.useRef(0);\n  const debounceFetcher = React.useMemo(() => {\n    const loadOptions = (value) => {\n      fetchRef.current += 1;\n      const fetchId = fetchRef.current;\n      setOptions([]);\n      setFetching(true);\n      fetchOptions(value, (newOptions) => {\n        if (fetchId !== fetchRef.current) {\n          // for fetch callback order\n          return;\n        }\n\n        setOptions(newOptions);\n        setFetching(false);\n        setInitialized(true);\n      });\n    };\n\n    return debounce(loadOptions, debounceTimeout);\n  }, [fetchOptions, debounceTimeout]);\n  const handleOnDropdownVisibleChange = (open) => {\n    if (!open) {\n      setInitialized(false);\n      return;\n    }\n    if (fetching || initialized) {\n      return;\n    }\n    fetchRef.current += 1;\n    const fetchId = fetchRef.current;\n    setOptions([]);\n    setFetching(true);\n    fetchOptions(\"\", (newOptions) => {\n      if (fetchId !== fetchRef.current) {\n        // for fetch callback order\n        return;\n      }\n\n      setOptions(newOptions);\n      setFetching(false);\n      setInitialized(true);\n    });\n  };\n  return (\n    <Select\n      labelInValue\n      onSearch={debounceFetcher}\n      onDropdownVisibleChange={handleOnDropdownVisibleChange}\n      notFoundContent={fetching ? <Spin size=\"small\" /> : null}\n      {...props}\n      options={options}\n    />\n  );\n} \n\n window.ReactFacade ={\n     render:ReactDOM.render,\n     createElementWrapper: function(elm, props){\n       let compRef = React.createRef()\n       props.ref = compRef\n       return {\n          element: React.createElement(elm, props),\n          ref: compRef\n       }\n     },\n      createElement: function(elm, props){\n        return React.createElement(elm, props)\n        },\n          createElementWithChildren: function(elm, props, children){\n                return React.createElement(elm, props, children)\n                },\n     createElementWrapperWithChildren: function(elm, props, children){\n            let compRef = React.createRef()\n            props.ref = compRef\n            return {\n               element: React.createElement(elm, props,children),\n               ref: compRef\n            }\n     },\n     callbackRegistry:callbackRegistry,\n     Layout: Layout,\n     LayoutHeader:Header,\n     LayoutFooter: Footer,\n     LayoutSider:Sider,\n     LayoutContent:Content,\n     Spin:Spin,\n     Input:Input,\n     Menu:Menu,\n     SubMenu:SubMenu,\n     MenuItem:Menu.Item,\n     Tabs:Tabs,\n     TabPane:TabPane,\n     Dropdown:Dropdown,\n     Button:Button,\n     Fragment:React.Fragment,\n     Search:Search,\n     Table:Table,\n     DebounceSelect:DebounceSelect,\n     Select:Select,\n     SelectOption:Option,\n     Tooltip:Tooltip,\n     IconLinkOutlined:LinkOutlined,\n     DatePicker:DatePicker,\n     IconEyeInvisibleOutlined: EyeInvisibleOutlined, \n     IconEyeTwoTone:EyeTwoTone,\n     PasswordBox:Input.Password,\n     InputNumber:InputNumber,\n     notification:notification,\n     Modal:Modal,\n     Switch:Switch,\n     Collapse:Collapse,\n     Panel:Panel,\n     ReactQuill:ReactQuill,\n     Tree:Tree,\n     TreeNode: TreeNode,\n     IconCloseOutlined:CloseOutlined,\n     IconPlusOutlined:PlusOutlined,\n     IconUpOutlined:UpOutlined,\n     IconDownOutlined:DownOutlined,\n     IconMinusOutlined:MinusOutlined,\n     createProxyAdvanced:function(renderCallback, otherCallbacks){\n         let allCallbacks = otherCallbacks || {}\n         allCallbacks.renderCallback = renderCallback\n         let index = callbackIndex++\n         callbackRegistry.set(index, allCallbacks)\n         let compRef = React.createRef()\n         let props ={\n            ref: compRef,\n            callbackIndex: index\n         }\n         let elm = React.createElement(JasmineReactComponentProxy,props)\n         return {element: elm,ref: compRef}\n     },\n     createProxy:function(renderCallback){\n        return this.createProxyAdvanced(renderCallback, null)        \n    },\n    dateToMoment:function(date){\n        return date? moment(date): null\n    }, \n    momentToDate:function(moment){\n        if(!moment){\n            return null\n        }\n        return new Date(moment.year(), moment.month(), moment.date())\n    },\n    momentToDateTime:function(moment){\n        if(!moment){\n            return null\n        }\n        return new Date(moment.year(), moment.month(), moment.date(), moment.hour(), moment.minute(), moment.second())\n    }\n }\n\n"],"sourceRoot":""}